(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs'), require('rxjs/operators'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('@ngx-loading-bar/core', ['exports', '@angular/core', 'rxjs', 'rxjs/operators', '@angular/common'], factory) :
    (factory((global['ngx-loading-bar'] = global['ngx-loading-bar'] || {}, global['ngx-loading-bar'].core = {}),global.ng.core,global.rxjs,global.rxjs.operators,global.ng.common));
}(this, (function (exports,i0,rxjs,operators,common) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LoadingBarService = /** @class */ (function () {
        function LoadingBarService(platformId) {
            this.platformId = platformId;
            this.progress$ = ( /** @type {?} */((new rxjs.Subject()).pipe(operators.debounceTime(0))));
            this._pendingRequests = 0;
            this._value = 0;
        }
        /**
         * @param {?=} initialValue
         * @return {?}
         */
        LoadingBarService.prototype.start = /**
         * @param {?=} initialValue
         * @return {?}
         */
            function (initialValue) {
                if (initialValue === void 0) {
                    initialValue = 2;
                }
                ++this._pendingRequests;
                if (this._value === 0 || this._pendingRequests === 1) {
                    // Inserts the loading bar element into the dom, and sets it to 2%
                    this.set(this._pendingRequests === 1 && this._value > 0 ? this._value : initialValue);
                }
            };
        /**
         * @return {?}
         */
        LoadingBarService.prototype.stop = /**
         * @return {?}
         */
            function () {
                this.complete();
                while (this._pendingRequests > 0) {
                    this.complete();
                }
            };
        /**
         * @return {?}
         */
        LoadingBarService.prototype.complete = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this._pendingRequests === 0 && this._value === 0) {
                    return;
                }
                if (this._pendingRequests > 0) {
                    --this._pendingRequests;
                }
                if (this._pendingRequests === 0 || (this._pendingRequests === 0 && this._value > 0)) {
                    if (this._value !== 100) {
                        this.set(100);
                    }
                    // Attempt to aggregate any start/complete calls within 500ms:
                    setTimeout(function () { return _this.set(0); }, 500);
                }
            };
        /**
         * Set the loading bar's width to a certain percent.
         *
         * @param n any value between 0 and 100
         */
        /**
         * Set the loading bar's width to a certain percent.
         *
         * @param {?} n any value between 0 and 100
         * @return {?}
         */
        LoadingBarService.prototype.set = /**
         * Set the loading bar's width to a certain percent.
         *
         * @param {?} n any value between 0 and 100
         * @return {?}
         */
            function (n) {
                var _this = this;
                if (!common.isPlatformBrowser(this.platformId)) {
                    this._pendingRequests = 0;
                    return;
                }
                if (n === 0 && this._pendingRequests > 0) {
                    n = 2;
                }
                this._value = n;
                this.progress$.next(n);
                if (this._pendingRequests === 0) {
                    return;
                }
                // increment loadingbar to give the illusion that there is always
                // progress but make sure to cancel the previous timeouts so we don't
                // have multiple incs running at the same time.
                clearTimeout(this._incTimeout);
                if (this._value > 0 && this._value < 100) {
                    this._incTimeout = setTimeout(function () { return _this.increment(); }, 250);
                }
            };
        /**
         * Increments the loading bar by a random amount
         * but slows down as it progresses
         */
        /**
         * Increments the loading bar by a random amount
         * but slows down as it progresses
         * @param {?=} rnd
         * @return {?}
         */
        LoadingBarService.prototype.increment = /**
         * Increments the loading bar by a random amount
         * but slows down as it progresses
         * @param {?=} rnd
         * @return {?}
         */
            function (rnd) {
                if (rnd === void 0) {
                    rnd = 0;
                }
                if (rnd > 0) {
                    this.set(this._value + rnd);
                }
                /** @type {?} */
                var stat = this._value;
                if (stat >= 0 && stat < 25) {
                    // Start out between 3 - 6% increments
                    rnd = (Math.random() * (5 - 3 + 1) + 3);
                }
                else if (stat >= 25 && stat < 65) {
                    // increment between 0 - 3%
                    rnd = (Math.random() * 3);
                }
                else if (stat >= 65 && stat < 90) {
                    // increment between 0 - 2%
                    rnd = (Math.random() * 2);
                }
                else if (stat >= 90 && stat < 99) {
                    // finally, increment it .5 %
                    rnd = 0.5;
                }
                else {
                    // after 99%, don't increment:
                    rnd = 0;
                }
                this.set(this._value + rnd);
            };
        /**
         * @return {?}
         */
        LoadingBarService.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.progress$.complete();
            };
        LoadingBarService.decorators = [
            { type: i0.Injectable, args: [{ providedIn: 'root' },] }
        ];
        /** @nocollapse */
        LoadingBarService.ctorParameters = function () {
            return [
                { type: Object, decorators: [{ type: i0.Inject, args: [i0.PLATFORM_ID,] }] }
            ];
        };
        /** @nocollapse */ LoadingBarService.ngInjectableDef = i0.defineInjectable({ factory: function LoadingBarService_Factory() { return new LoadingBarService(i0.inject(i0.PLATFORM_ID)); }, token: LoadingBarService, providedIn: "root" });
        return LoadingBarService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LoadingBarComponent = /** @class */ (function () {
        function LoadingBarComponent(loader) {
            this.loader = loader;
            this.includeSpinner = true;
            this.includeBar = true;
            this.fixed = true;
            this.value = null;
        }
        LoadingBarComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'ngx-loading-bar',
                        template: "\n    <ng-container *ngIf=\"(value !== null ? value : loader.progress$|async) as progress\">\n      <div id=\"loading-bar-spinner\" *ngIf=\"includeSpinner\" [style.color]=\"color\">\n        <div [style.width]=\"diameter\" [style.height]=\"diameter\" class=\"spinner-icon\"></div>\n      </div>\n      <div id=\"loading-bar\" *ngIf=\"includeBar\" [style.color]=\"color\">\n        <div class=\"bar\" [style.background]=\"color\" [style.height]=\"height\" [style.width]=\"progress + '%'\">\n          <div class=\"peg\" [style.height]=\"height\"></div>\n        </div>\n      </div>\n    </ng-container>\n  ",
                        preserveWhitespaces: false,
                        encapsulation: i0.ViewEncapsulation.Emulated,
                        host: {
                            '[class.loading-bar-fixed]': 'fixed',
                        },
                        styles: [":host{position:relative;display:block}:host.loading-bar-fixed>div .bar{position:fixed}:host.loading-bar-fixed>div#loading-bar-spinner{position:fixed;top:10px;left:10px}:host.loading-bar-fixed>div .peg{display:block}:host>div{pointer-events:none;transition:350ms linear;color:#29d}:host>div .bar{transition:width 350ms;background:#29d;position:absolute;z-index:10002;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}:host>div .peg{display:none;position:absolute;width:70px;right:0;top:0;height:2px;opacity:.45;box-shadow:1px 0 6px 1px;color:inherit;border-radius:100%}:host>div#loading-bar-spinner{display:block;position:absolute;z-index:10002;top:5px;left:0}:host>div#loading-bar-spinner .spinner-icon{width:14px;height:14px;border:2px solid transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:.4s linear infinite loading-bar-spinner;animation:.4s linear infinite loading-bar-spinner}@-webkit-keyframes loading-bar-spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes loading-bar-spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]
                    }] }
        ];
        /** @nocollapse */
        LoadingBarComponent.ctorParameters = function () {
            return [
                { type: LoadingBarService }
            ];
        };
        LoadingBarComponent.propDecorators = {
            includeSpinner: [{ type: i0.Input }],
            includeBar: [{ type: i0.Input }],
            fixed: [{ type: i0.Input }],
            color: [{ type: i0.Input }],
            height: [{ type: i0.Input }],
            diameter: [{ type: i0.Input }],
            value: [{ type: i0.Input }]
        };
        return LoadingBarComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LoadingBarModule = /** @class */ (function () {
        function LoadingBarModule() {
        }
        /** @deprecated */
        /**
         * @deprecated
         * @return {?}
         */
        LoadingBarModule.forRoot = /**
         * @deprecated
         * @return {?}
         */
            function () {
                console.warn('The `LoadingBarModule.forRoot()` calls is deprecated, use `LoadingBarModule` instead');
                return { ngModule: LoadingBarModule };
            };
        LoadingBarModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [common.CommonModule],
                        declarations: [LoadingBarComponent],
                        exports: [LoadingBarComponent],
                    },] }
        ];
        return LoadingBarModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    exports.LoadingBarModule = LoadingBarModule;
    exports.LoadingBarComponent = LoadingBarComponent;
    exports.LoadingBarService = LoadingBarService;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWxvYWRpbmctYmFyLWNvcmUudW1kLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9Abmd4LWxvYWRpbmctYmFyL2NvcmUvbG9hZGluZy1iYXIuc2VydmljZS50cyIsIm5nOi8vQG5neC1sb2FkaW5nLWJhci9jb3JlL2xvYWRpbmctYmFyLmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1sb2FkaW5nLWJhci9jb3JlL2NvcmUubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZGVib3VuY2VUaW1lIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgUExBVEZPUk1fSUQsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgaXNQbGF0Zm9ybUJyb3dzZXIgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5ASW5qZWN0YWJsZSh7IHByb3ZpZGVkSW46ICdyb290JyB9KVxuZXhwb3J0IGNsYXNzIExvYWRpbmdCYXJTZXJ2aWNlIGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgcmVhZG9ubHkgcHJvZ3Jlc3MkID0gKG5ldyBTdWJqZWN0PG51bWJlcj4oKSkucGlwZShkZWJvdW5jZVRpbWUoMCkpIGFzIFN1YmplY3Q8bnVtYmVyPjtcblxuICBwcml2YXRlIF9wZW5kaW5nUmVxdWVzdHMgPSAwO1xuICBwcml2YXRlIF92YWx1ZSA9IDA7XG4gIHByaXZhdGUgX2luY1RpbWVvdXQ6IGFueTtcblxuICBjb25zdHJ1Y3RvcihASW5qZWN0KFBMQVRGT1JNX0lEKSBwcml2YXRlIHBsYXRmb3JtSWQ6IE9iamVjdCkge31cblxuICBzdGFydChpbml0aWFsVmFsdWUgPSAyKSB7XG4gICAgKyt0aGlzLl9wZW5kaW5nUmVxdWVzdHM7XG4gICAgaWYgKHRoaXMuX3ZhbHVlID09PSAwIHx8IHRoaXMuX3BlbmRpbmdSZXF1ZXN0cyA9PT0gMSkge1xuICAgICAgLy8gSW5zZXJ0cyB0aGUgbG9hZGluZyBiYXIgZWxlbWVudCBpbnRvIHRoZSBkb20sIGFuZCBzZXRzIGl0IHRvIDIlXG4gICAgICB0aGlzLnNldCh0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPT09IDEgJiYgdGhpcy5fdmFsdWUgPiAwID8gdGhpcy5fdmFsdWUgOiBpbml0aWFsVmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIHdoaWxlICh0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPiAwKSB7XG4gICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUoKSB7XG4gICAgaWYgKHRoaXMuX3BlbmRpbmdSZXF1ZXN0cyA9PT0gMCAmJiB0aGlzLl92YWx1ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPiAwKSB7XG4gICAgICAtLXRoaXMuX3BlbmRpbmdSZXF1ZXN0cztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcGVuZGluZ1JlcXVlc3RzID09PSAwIHx8ICh0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPT09IDAgJiYgdGhpcy5fdmFsdWUgPiAwKSkge1xuICAgICAgaWYgKHRoaXMuX3ZhbHVlICE9PSAxMDApIHtcbiAgICAgICAgdGhpcy5zZXQoMTAwKTtcbiAgICAgIH1cblxuICAgICAgLy8gQXR0ZW1wdCB0byBhZ2dyZWdhdGUgYW55IHN0YXJ0L2NvbXBsZXRlIGNhbGxzIHdpdGhpbiA1MDBtczpcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZXQoMCksIDUwMCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbG9hZGluZyBiYXIncyB3aWR0aCB0byBhIGNlcnRhaW4gcGVyY2VudC5cbiAgICpcbiAgICogQHBhcmFtIG4gYW55IHZhbHVlIGJldHdlZW4gMCBhbmQgMTAwXG4gICAqL1xuICBzZXQobikge1xuICAgIGlmICghaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgdGhpcy5fcGVuZGluZ1JlcXVlc3RzID0gMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobiA9PT0gMCAmJiB0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPiAwKSB7XG4gICAgICBuID0gMjtcbiAgICB9XG5cbiAgICB0aGlzLl92YWx1ZSA9IG47XG4gICAgdGhpcy5wcm9ncmVzcyQubmV4dChuKTtcblxuICAgIGlmICh0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpbmNyZW1lbnQgbG9hZGluZ2JhciB0byBnaXZlIHRoZSBpbGx1c2lvbiB0aGF0IHRoZXJlIGlzIGFsd2F5c1xuICAgIC8vIHByb2dyZXNzIGJ1dCBtYWtlIHN1cmUgdG8gY2FuY2VsIHRoZSBwcmV2aW91cyB0aW1lb3V0cyBzbyB3ZSBkb24ndFxuICAgIC8vIGhhdmUgbXVsdGlwbGUgaW5jcyBydW5uaW5nIGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX2luY1RpbWVvdXQpO1xuICAgIGlmICh0aGlzLl92YWx1ZSA+IDAgJiYgdGhpcy5fdmFsdWUgPCAxMDApIHtcbiAgICAgIHRoaXMuX2luY1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaW5jcmVtZW50KCksIDI1MCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlbWVudHMgdGhlIGxvYWRpbmcgYmFyIGJ5IGEgcmFuZG9tIGFtb3VudFxuICAgKiBidXQgc2xvd3MgZG93biBhcyBpdCBwcm9ncmVzc2VzXG4gICAqL1xuICBpbmNyZW1lbnQocm5kID0gMCkge1xuICAgIGlmIChybmQgPiAwKSB7XG4gICAgICB0aGlzLnNldCh0aGlzLl92YWx1ZSArIHJuZCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdCA9IHRoaXMuX3ZhbHVlO1xuICAgIGlmIChzdGF0ID49IDAgJiYgc3RhdCA8IDI1KSB7XG4gICAgICAvLyBTdGFydCBvdXQgYmV0d2VlbiAzIC0gNiUgaW5jcmVtZW50c1xuICAgICAgcm5kID0gKE1hdGgucmFuZG9tKCkgKiAoNSAtIDMgKyAxKSArIDMpO1xuICAgIH0gZWxzZSBpZiAoc3RhdCA+PSAyNSAmJiBzdGF0IDwgNjUpIHtcbiAgICAgIC8vIGluY3JlbWVudCBiZXR3ZWVuIDAgLSAzJVxuICAgICAgcm5kID0gKE1hdGgucmFuZG9tKCkgKiAzKTtcbiAgICB9IGVsc2UgaWYgKHN0YXQgPj0gNjUgJiYgc3RhdCA8IDkwKSB7XG4gICAgICAvLyBpbmNyZW1lbnQgYmV0d2VlbiAwIC0gMiVcbiAgICAgIHJuZCA9IChNYXRoLnJhbmRvbSgpICogMik7XG4gICAgfSBlbHNlIGlmIChzdGF0ID49IDkwICYmIHN0YXQgPCA5OSkge1xuICAgICAgLy8gZmluYWxseSwgaW5jcmVtZW50IGl0IC41ICVcbiAgICAgIHJuZCA9IDAuNTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYWZ0ZXIgOTklLCBkb24ndCBpbmNyZW1lbnQ6XG4gICAgICBybmQgPSAwO1xuICAgIH1cblxuICAgIHRoaXMuc2V0KHRoaXMuX3ZhbHVlICsgcm5kKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMucHJvZ3Jlc3MkLmNvbXBsZXRlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTG9hZGluZ0JhclNlcnZpY2UgfSBmcm9tICcuL2xvYWRpbmctYmFyLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZ3gtbG9hZGluZy1iYXInLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIodmFsdWUgIT09IG51bGwgPyB2YWx1ZSA6IGxvYWRlci5wcm9ncmVzcyR8YXN5bmMpIGFzIHByb2dyZXNzXCI+XG4gICAgICA8ZGl2IGlkPVwibG9hZGluZy1iYXItc3Bpbm5lclwiICpuZ0lmPVwiaW5jbHVkZVNwaW5uZXJcIiBbc3R5bGUuY29sb3JdPVwiY29sb3JcIj5cbiAgICAgICAgPGRpdiBbc3R5bGUud2lkdGhdPVwiZGlhbWV0ZXJcIiBbc3R5bGUuaGVpZ2h0XT1cImRpYW1ldGVyXCIgY2xhc3M9XCJzcGlubmVyLWljb25cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBpZD1cImxvYWRpbmctYmFyXCIgKm5nSWY9XCJpbmNsdWRlQmFyXCIgW3N0eWxlLmNvbG9yXT1cImNvbG9yXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiYXJcIiBbc3R5bGUuYmFja2dyb3VuZF09XCJjb2xvclwiIFtzdHlsZS5oZWlnaHRdPVwiaGVpZ2h0XCIgW3N0eWxlLndpZHRoXT1cInByb2dyZXNzICsgJyUnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInBlZ1wiIFtzdHlsZS5oZWlnaHRdPVwiaGVpZ2h0XCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9uZy1jb250YWluZXI+XG4gIGAsXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5FbXVsYXRlZCxcbiAgc3R5bGVVcmxzOiBbJy4vbG9hZGluZy1iYXIuY29tcG9uZW50LnNjc3MnXSxcbiAgaG9zdDoge1xuICAgICdbY2xhc3MubG9hZGluZy1iYXItZml4ZWRdJzogJ2ZpeGVkJyxcbiAgfVxufSlcbmV4cG9ydCBjbGFzcyBMb2FkaW5nQmFyQ29tcG9uZW50IHtcbiAgQElucHV0KCkgaW5jbHVkZVNwaW5uZXIgPSB0cnVlO1xuICBASW5wdXQoKSBpbmNsdWRlQmFyID0gdHJ1ZTtcbiAgQElucHV0KCkgZml4ZWQgPSB0cnVlO1xuICBASW5wdXQoKSBjb2xvcjtcbiAgQElucHV0KCkgaGVpZ2h0O1xuICBASW5wdXQoKSBkaWFtZXRlcjtcbiAgQElucHV0KCkgdmFsdWUgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBsb2FkZXI6IExvYWRpbmdCYXJTZXJ2aWNlKSB7fVxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUsIE1vZHVsZVdpdGhQcm92aWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBMb2FkaW5nQmFyQ29tcG9uZW50IH0gZnJvbSAnLi9sb2FkaW5nLWJhci5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcbiAgZGVjbGFyYXRpb25zOiBbTG9hZGluZ0JhckNvbXBvbmVudF0sXG4gIGV4cG9ydHM6IFtMb2FkaW5nQmFyQ29tcG9uZW50XSxcbn0pXG5leHBvcnQgY2xhc3MgTG9hZGluZ0Jhck1vZHVsZSB7XG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICBzdGF0aWMgZm9yUm9vdCgpOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICBjb25zb2xlLndhcm4oJ1RoZSBgTG9hZGluZ0Jhck1vZHVsZS5mb3JSb290KClgIGNhbGxzIGlzIGRlcHJlY2F0ZWQsIHVzZSBgTG9hZGluZ0Jhck1vZHVsZWAgaW5zdGVhZCcpO1xuXG4gICAgcmV0dXJuIHsgbmdNb2R1bGU6IExvYWRpbmdCYXJNb2R1bGUgfTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlN1YmplY3QiLCJkZWJvdW5jZVRpbWUiLCJpc1BsYXRmb3JtQnJvd3NlciIsIkluamVjdGFibGUiLCJJbmplY3QiLCJQTEFURk9STV9JRCIsIkNvbXBvbmVudCIsIlZpZXdFbmNhcHN1bGF0aW9uIiwiSW5wdXQiLCJOZ01vZHVsZSIsIkNvbW1vbk1vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO1FBY0UsMkJBQXlDLFVB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